# .github/workflows/ci_pipeline.yml
# Flujo de CI/CD que corre con cada cambio en la rama principal.

name: ğŸ§‘â€ğŸ’» Quality Gate y Despliegue

on:
  push:
    branches: [ main ]

jobs:
  build_test_deploy:
    runs-on: ubuntu-latest
    
    steps:
    
    # PASO 1: Descarga el cÃ³digo
    - name: ğŸ“¥ Clonar Repositorio
      uses: actions/checkout@v4
      
    # PASO 2: Configura Python
    - name: ğŸ Configurar Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.10'
        
    # PASO 3: Quality Gate (Ejecuta las pruebas de 'calculadora.py')
    - name: ğŸš¦ Quality Gate: Ejecutar Pruebas
      run: python calculadora.py

    # PASO 4: SimulaciÃ³n de Despliegue (SOLO si el Quality Gate pasÃ³)
    - name: ğŸš€ SimulaciÃ³n de Despliegue (CD)
      if: success()
      run: |
        echo "=========================================================="
        echo "âœ… Quality Gate Aprobado. Iniciando Despliegue."
        echo "ğŸ‰ El cÃ³digo pasa a producciÃ³n."
        echo "=========================================================="

